{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ABookshelf | Set Username and Password</title>
    <link rel="icon" type="image/x-icon" href="{% static 'bookstore/shelf.jpg' %}">
    <!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Bootstrap core CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
<!-- Material Design Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.10/css/mdb.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Arvo|Bitter|Bree+Serif|Righteous|Special+Elite&display=swap" rel="stylesheet">
<style>

.row{
  display: flex;
  justify-content: space-between;
 
}
.img img{
  width:25rem;
  height: 15rem;
}
.img{
  margin:2rem  5rem;
}
.input-container {
  display: flex;
  justify-content:center;
  width: 100%;
  margin-bottom: 15px;
}

/* Style the form icons */
.icon {
  padding: 10px;

  color: #eb648c;
  min-width: 50px;
  text-align: center;
}

/* Style the input fields */
input {
  width: 100%;
  padding: 10px;
  outline: none;
  /* border-top-right-radius: 2rem;
  border-bottom-right-radius: 2rem; */
  border: 1px solid rgb(230, 207, 228);
  border-radius: 1rem;
}

input:focus {
  -webkit-box-shadow:0 0 5px #eb648c inset;
-moz-box-shadow:0 0 5px #eb648c inset;
box-shadow:0 0 5px #eb648c inset;
}
.rules ul{

list-style: initial;
flex: initial;


}
.rules li{
  font-weight: bold;
  
 text-align: initial !important;
  color: black;

}
.notes{
  text-align: initial;
}
.notes li{
  color: #3C4257;
  font-weight: bold;
  font-family: bitter;
}
#message{
  display: none;
}


body{
  background-image: url('/static/bookstore/wallpaper.png');
}
#sub{

  color: #eb648c;
  font-family: bitter;
  font-weight: bold;
  border: 1px solid #eb648c;
  border-radius: 10px;
  background-color: #ffffff;
  padding: 0.5rem 1.5rem;
 transition: 0.5s ease-in-out;
}


#sub:hover{
  background-color: hotpink;
  color:#ffffff;

}

.horizontalloaders1{
    width: 50%;
    height: 10px;
    position: relative;
    border-radius:2rem;
    overflow: hidden !important;
    display: none;
    margin-bottom: 0.5rem;
    background-color: #eb648c;
    animation-name: examples;
    animation-duration: 1s;
    animation-iteration-count: infinite;
  
  }

  @keyframes examples {
    0%   {background-color:#eb648c; left:0px; top:0px;}
    90%   {background-color:#eb648c; left:90%; top:0px;}
    100% {background-color:#eb648c; left:100%; top:0px;width: 10%;}
  }



@media screen and (max-width: 770px)
{
 
    
.img{
  display: none;
}
       
     
  

}


</style>


</head>
{% if response %}
<style>
  #pssword{
opacity: 1;
  }
#horizontalloaders11{
  display: none;
}
</style>
{% endif %}
<body>
    <div class="bod">
 
<!-- Button trigger modal-->

{% if valid %}

<!--Modal: modalPush-->

<div class="row" style="margin: 1rem;">



  <div class="modal-dialog modal-notify modal-danger" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center" style="background-color: #eb648c;">
        <p class="heading" style="font-family: bitter;">Set Your Password</p>
      </div>

      <!--Body-->
      <div class="modal-body">
        <i class="fa fa-key icon" style="font-size: 5rem;color:#eb648c"></i>

        <div class="horizontalloaders1" id="horizontalloaders11"></div>
      <form method="POST" id="pssword" onsubmit="{document.getElementById('horizontalloaders11').style.display='block';document.getElementById('pssword').style.opacity='0.5';}">
          <ul class="notes  alert alert" role="alert">
         
        
      
     
            <li >Password should be 8 lettters Long.</li>
            <li>Use special characters like @,/,.,_,-,etc.</li>
            <li>Use letters as well as digits. </li>
     
     
         </ul>
            {% csrf_token %}
      
            <div class="input-container">
                
               {{ form.password1 }}
              </div>
         
       <div class="input-container">
       
        {{ form.password2 }}
       </div>
       

  
       <div class="note alert alert-danger" id="message" style="border: none;">
        {% if lenpass %}
        <style>
          #message{
            display: block;
          }
        </style>
         <span style="font-weight: bold;">Password should be 8 lettters Long.</span>
        {% endif %}
        {% if notmatch %}
        <style>
          #message{
            display: block;
          }
        </style>
        <span id="note_pass" style="font-weight: bold;">Password Are Not Matching</span>
        <style>
          #id_password2{
            border: 2px solid #ff3333;
          }
          
          </style>
          {% endif %}
    </div>
    
      
          {% if usernotvalid %}
            <style>
           #id_username{
             border: 2px solid #ff3333;
           }
            .rules li{
              color: #ff3333;
            }
            
            </style>
          {% endif %}

      </div>

      <!--Footer-->
      <div class="modal-footer flex-center">
        
        <div style="display: flex;justify-content: center;">
            <button id="sub" type="submit"  style="

          
         
         " > CONFIRM   </button>
            </div>
      </div>
    </form>
    </div>
    <!--/.Content-->
  </div>





<div class="img" >

<img src="{% static 'bookstore/lock.jpg' %}" alt=""  >
</div>


</div>


<!--Modal: modalPush-->

{% elif  noconfirmbook %}


<div class="modal-dialog modal-notify modal-danger" role="document">
  <!--Content-->
  <div class="modal-content text-center">
    <!--Header-->
    <div class="modal-header d-flex justify-content-center">
      <p class="heading" style="font-family: bitter;">404</p>
    </div>

    <!--Body-->
    <div class="modal-body">
      <h4 class="fas fa-user-lock" style="font-size: 5rem;color:#ff3333;font-family: 'Special Elite', cursive;">404</h5>

      <p style="padding:1rem;font-weight:bold;">Soory , you Came to the Wrong Path!</p>

    </div>

    <!--Footer-->
    <div class="modal-footer flex-center">
      <a href="{% url 'home' %}" class="btn  btn-outline-danger">Continue Shopping</a>
    
    </div>
  </div>
  <!--/.Content-->
</div>


{% elif  norderid %}


<div class="modal-dialog modal-notify modal-danger" role="document">
  <!--Content-->
  <div class="modal-content text-center">
    <!--Header-->
    <div class="modal-header d-flex justify-content-center">
      <p class="heading" style="font-family: bitter;">404</p>
    </div>

    <!--Body-->
    <div class="modal-body">
      <i class="fas fa-box-open" style="font-size: 5rem;color:#ff3333;"></i>
      <h5 style="font-family: 'Special Elite', cursive;">NO ORDERS</h5>

      <p style="padding:1rem;font-weight:bold;">Soory , No Order with this Credentials!</p>

    </div>

    <!--Footer-->
    <div class="modal-footer flex-center">
      {% if user.is_authenticated %}
      <a href="{% url 'Myorders' user.email %}" class="btn  btn-outline-danger">MY Orders</a>
      {% else %}
      <a href="{% url 'home'  %}" class="btn  btn-outline-danger">HOME</a>
      {% endif %}
    </div>
  </div>
  <!--/.Content-->
</div>



{% else %}

<div class="modal-dialog modal-notify modal-danger" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p class="heading" style="font-family: bitter;">Authentication Failure</p>
      </div>

      <!--Body-->
      <div class="modal-body">
        <i class="fas fa-user-lock" style="font-size: 5rem;color:#ff3333"></i>

        <p style="padding:1rem;font-weight:bold;">Soory , Your Token Has been Expired , If you want to register then please apply again!</p>

      </div>

      <!--Footer-->
      <div class="modal-footer flex-center">
        <a href="{% url 'home' %}" class="btn  btn-outline-danger">Ok</a>
      
      </div>
    </div>
    <!--/.Content-->
  </div>

{% endif %}
   
</div>
 <!-- JQuery -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.10/js/mdb.min.js"></script>   
</body>
</html>